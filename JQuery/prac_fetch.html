<!doctype html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>Fetch 시작하기</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        function hey() {
            // alert('연결완료');

            let url = 'http://spartacodingclub.shop/sparta_api/seoulair'
            fetch(url).then(res => res.json()).then(data => {
                // 전체 데이터 출력      
                console.log(data)

                // 첫번째 데이터만 출력
                console.log(data['RealtimeCityAir']['row'][0])

                // 반복문 사용해서 요소를 개별적으로 출력
                let rows = data['RealtimeCityAir']['row']
                rows.forEach((a) => {
                    // 미세먼지 데이터 리스트의 길이만큼 반복해서 하나씩 개발자 도구에서 보기
                    console.log(a)
                })

                rows.forEach((a) => {
                    // 구 이름과 미세먼지만 출력
                    let gu_name = a['MSRSTE_NM']
                    let gu_mise = a['IDEX_MVL']
                    console.log(gu_name, gu_mise)
                })
            })
        }
    </script>
</head>

<body>
    <button onclick="hey()">fetch 연습!</button>
</body>

</html>